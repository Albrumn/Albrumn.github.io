import{ai as ze,x as O,L as S,g as Z,p as j,a6 as ue,m as Ae,aj as Ct,s as me,ak as xt,al as de,am as Fe,an as Pt,ao as Je,t as W,i as te,j as c,ap as $e,aq as It,ar as N,as as At,N as U,B as Le,at as Tt,S as re,a2 as ne,au as Et,av as Bt,aw as Be,ax as sa,u as Re,ab as Te,ay as Ye,az as et,aA as Dt,k as Ee,aB as Lt,aC as tt,aD as He,aE as Rt,aF as Pe,K as ra,a8 as he,a9 as Q,aG as mt,aa as je,aH as Mt,a as Ne,aI as Ot,b as at,aJ as ua,d as lt,h as nt,aK as ia,aL as ca,aM as da,aN as va,aO as zt,ac as ge,C as Ft,P as Xe,aP as fa,aQ as ma,l as ot,aR as ga,q as st,v as rt,aS as gt,a7 as ut,aT as ha,aU as qe,aV as ya,aW as pa,aX as Me,aY as ba,aZ as We,a_ as wa,a$ as _a,c as Sa,b0 as ke,b1 as Se,r as ka,a4 as it,b2 as Va,I as ye,b3 as Ca,b4 as ht,w as pe,Y as X,ae as ct,y as fe,af as Ve,D as L,z as J,A as $,b5 as xa,b6 as Pa,b7 as Ia,J as Aa,b8 as Ta,W as De,M as Ea,Z as Ba,a1 as Da,U as Ue,H as oe,E as ce,R as Ce,a3 as La,b9 as Ra,ba as Ma,ag as Oa,F as $t,bb as za,bc as Fa,bd as $a,Q as Ha,be as Na,T as Ht,bf as Ua}from"./DoQLRuHK.js";import{s as se,a as be,u as we}from"./BVkePoiX.js";import{b as Nt,c as Ut,u as qt,d as yt,V as pt,m as qa,a as Wt,g as Wa}from"./BytDH7L8.js";import{a as Ga,u as Ka,V as bt,b as Ya,d as ja,e as wt,f as Xa}from"./COt8qJ3r.js";import{f as Gt}from"./DWGaNmQL.js";import{u as Za,V as Kt,a as Ze,m as Qa,c as Ja}from"./BQStGuVU.js";import{V as el}from"./DuA5ZkFT.js";import{V as tl,u as Yt,m as jt,a as al,b as ll}from"./DypwLdo6.js";import{u as Xt}from"./D-xAuUfi.js";import{u as nl}from"./zM9G2waW.js";import{V as ol}from"./BvX1ZN98.js";import{V as sl}from"./B-29VTKe.js";import{V as rl}from"./a_S0LN31.js";/* empty css        */const ul=ze("roleStore",()=>{const e=O(!1),s=O([]),a=O({}),l=S(()=>e.value);function t(){s.value=[],a.value={},e.value=!1}async function n(r=0){if(a.value.length>1)return"";if(e.value)return"Error:  Please try again";e.value=!0;let u="";const{data:o,error:f}=await se.from("role").select("*");return f?u=f.message:o&&(s.value=o),a.value=s.value.find(p=>p.id===r),a.value||(a.value={id:0,name:""}),e.value=!1,u}return{roles:s,role:a,isPending:l,fetchRoles:n,$reset:t}}),il=j({disabled:Boolean,modelValue:{type:Boolean,default:null},...Ut()},"VHover"),cl=Z()({name:"VHover",props:il(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:a}=s;const l=ue(e,"modelValue"),{runOpenDelay:t,runCloseDelay:n}=Nt(e,r=>!e.disabled&&(l.value=r));return()=>{var r;return(r=a.default)==null?void 0:r.call(a,{isHovering:l.value,props:{onMouseenter:t,onMouseleave:n}})}}}),Zt=Symbol.for("vuetify:selection-control-group"),Qt=j({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:de,trueIcon:de,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:xt},...me(),...Ct(),...Ae()},"SelectionControlGroup"),dl=j({...Qt({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");Z()({name:"VSelectionControlGroup",props:dl(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:a}=s;const l=ue(e,"modelValue"),t=Fe(),n=S(()=>e.id||`v-selection-control-group-${t}`),r=S(()=>e.name||n.value),u=new Set;return Pt(Zt,{modelValue:l,forceUpdate:()=>{u.forEach(o=>o())},onForceUpdate:o=>{u.add(o),$e(()=>{u.delete(o)})}}),Je({[e.defaultsTarget]:{color:W(e,"color"),disabled:W(e,"disabled"),density:W(e,"density"),error:W(e,"error"),inline:W(e,"inline"),modelValue:l,multiple:S(()=>!!e.multiple||e.multiple==null&&Array.isArray(l.value)),name:r,falseIcon:W(e,"falseIcon"),trueIcon:W(e,"trueIcon"),readonly:W(e,"readonly"),ripple:W(e,"ripple"),type:W(e,"type"),valueComparator:W(e,"valueComparator")}}),te(()=>{var o;return c("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(o=a.default)==null?void 0:o.call(a)])}),{}}});const dt=j({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...me(),...Qt()},"VSelectionControl");function vl(e){const s=Et(Zt,void 0),{densityClasses:a}=Bt(e),l=ue(e,"modelValue"),t=S(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),n=S(()=>e.falseValue!==void 0?e.falseValue:!1),r=S(()=>!!e.multiple||e.multiple==null&&Array.isArray(l.value)),u=S({get(){const V=s?s.modelValue.value:l.value;return r.value?Be(V).some(_=>e.valueComparator(_,t.value)):e.valueComparator(V,t.value)},set(V){if(e.readonly)return;const _=V?t.value:n.value;let P=_;r.value&&(P=V?[...Be(l.value),_]:Be(l.value).filter(i=>!e.valueComparator(i,t.value))),s?s.modelValue.value=P:l.value=P}}),{textColorClasses:o,textColorStyles:f}=sa(S(()=>{if(!(e.error||e.disabled))return u.value?e.color:e.baseColor})),{backgroundColorClasses:p,backgroundColorStyles:b}=Re(S(()=>u.value&&!e.error&&!e.disabled?e.color:e.baseColor)),m=S(()=>u.value?e.trueIcon:e.falseIcon);return{group:s,densityClasses:a,trueValue:t,falseValue:n,model:u,textColorClasses:o,textColorStyles:f,backgroundColorClasses:p,backgroundColorStyles:b,icon:m}}const Oe=Z()({name:"VSelectionControl",directives:{Ripple:It},inheritAttrs:!1,props:dt(),emits:{"update:modelValue":e=>!0},setup(e,s){let{attrs:a,slots:l}=s;const{group:t,densityClasses:n,icon:r,model:u,textColorClasses:o,textColorStyles:f,backgroundColorClasses:p,backgroundColorStyles:b,trueValue:m}=vl(e),V=Fe(),_=N(!1),P=N(!1),i=O(),g=S(()=>e.id||`input-${V}`),h=S(()=>!e.disabled&&!e.readonly);t==null||t.onForceUpdate(()=>{i.value&&(i.value.checked=u.value)});function d(y){h.value&&(_.value=!0,Ye(y.target,":focus-visible")!==!1&&(P.value=!0))}function C(){_.value=!1,P.value=!1}function A(y){y.stopPropagation()}function I(y){if(!h.value){i.value&&(i.value.checked=u.value);return}e.readonly&&t&&Te(()=>t.forceUpdate()),u.value=y.target.checked}return te(()=>{var R,z;const y=l.label?l.label({label:e.label,props:{for:g.value}}):e.label,[E,D]=At(a),B=c("input",U({ref:i,checked:u.value,disabled:!!e.disabled,id:g.value,onBlur:C,onFocus:d,onInput:I,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:m.value,name:e.name,"aria-checked":e.type==="checkbox"?u.value:void 0},D),null);return c("div",U({class:["v-selection-control",{"v-selection-control--dirty":u.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":_.value,"v-selection-control--focus-visible":P.value,"v-selection-control--inline":e.inline},n.value,e.class]},E,{style:e.style}),[c("div",{class:["v-selection-control__wrapper",o.value],style:f.value},[(R=l.default)==null?void 0:R.call(l,{backgroundColorClasses:p,backgroundColorStyles:b}),Le(c("div",{class:["v-selection-control__input"]},[((z=l.input)==null?void 0:z.call(l,{model:u,textColorClasses:o,textColorStyles:f,backgroundColorClasses:p,backgroundColorStyles:b,inputNode:B,icon:r.value,props:{onFocus:d,onBlur:C,id:g.value}}))??c(re,null,[r.value&&c(ne,{key:"icon",icon:r.value},null),B])]),[[Tt("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),y&&c(Ga,{for:g.value,onClick:A},{default:()=>[y]})])}),{isFocused:_,input:i}}}),fl=j({indeterminate:Boolean,indeterminateIcon:{type:de,default:"$checkboxIndeterminate"},...dt({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),ml=Z()({name:"VCheckboxBtn",props:fl(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,s){let{slots:a}=s;const l=ue(e,"indeterminate"),t=ue(e,"modelValue");function n(o){l.value&&(l.value=!1)}const r=S(()=>l.value?e.indeterminateIcon:e.falseIcon),u=S(()=>l.value?e.indeterminateIcon:e.trueIcon);return te(()=>{const o=et(Oe.filterProps(e),["modelValue"]);return c(Oe,U(o,{modelValue:t.value,"onUpdate:modelValue":[f=>t.value=f,n],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:r.value,trueIcon:u.value,"aria-checked":l.value?"mixed":void 0}),a)}),{}}});function gl(e){let{selectedElement:s,containerElement:a,isRtl:l,isHorizontal:t}=e;const n=Ie(t,a),r=Jt(t,l,a),u=Ie(t,s),o=ea(t,s),f=u*.4;return r>o?o-f:r+n<o+u?o-n+u+f:r}function hl(e){let{selectedElement:s,containerElement:a,isHorizontal:l}=e;const t=Ie(l,a),n=ea(l,s),r=Ie(l,s);return n-t/2+r/2}function _t(e,s){const a=e?"scrollWidth":"scrollHeight";return(s==null?void 0:s[a])||0}function yl(e,s){const a=e?"clientWidth":"clientHeight";return(s==null?void 0:s[a])||0}function Jt(e,s,a){if(!a)return 0;const{scrollLeft:l,offsetWidth:t,scrollWidth:n}=a;return e?s?n-t+l:l:a.scrollTop}function Ie(e,s){const a=e?"offsetWidth":"offsetHeight";return(s==null?void 0:s[a])||0}function ea(e,s){const a=e?"offsetLeft":"offsetTop";return(s==null?void 0:s[a])||0}const pl=Symbol.for("vuetify:v-slide-group"),ta=j({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:pl},nextIcon:{type:de,default:"$next"},prevIcon:{type:de,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...me(),...Lt({mobile:null}),...Ee(),...Dt({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),St=Z()({name:"VSlideGroup",props:ta(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:a}=s;const{isRtl:l}=tt(),{displayClasses:t,mobile:n}=He(e),r=Rt(e,e.symbol),u=N(!1),o=N(0),f=N(0),p=N(0),b=S(()=>e.direction==="horizontal"),{resizeRef:m,contentRect:V}=Pe(),{resizeRef:_,contentRect:P}=Pe(),i=ra(),g=S(()=>({container:m.el,duration:200,easing:"easeOutQuart"})),h=S(()=>r.selected.value.length?r.items.value.findIndex(v=>v.id===r.selected.value[0]):-1),d=S(()=>r.selected.value.length?r.items.value.findIndex(v=>v.id===r.selected.value[r.selected.value.length-1]):-1);if(he){let v=-1;Q(()=>[r.selected.value,V.value,P.value,b.value],()=>{cancelAnimationFrame(v),v=requestAnimationFrame(()=>{if(V.value&&P.value){const w=b.value?"width":"height";f.value=V.value[w],p.value=P.value[w],u.value=f.value+1<p.value}if(h.value>=0&&_.el){const w=_.el.children[d.value];A(w,e.centerActive)}})})}const C=N(!1);function A(v,w){let T=0;w?T=hl({containerElement:m.el,isHorizontal:b.value,selectedElement:v}):T=gl({containerElement:m.el,isHorizontal:b.value,isRtl:l.value,selectedElement:v}),I(T)}function I(v){if(!he||!m.el)return;const w=Ie(b.value,m.el),T=Jt(b.value,l.value,m.el);if(!(_t(b.value,m.el)<=w||Math.abs(v-T)<16)){if(b.value&&l.value&&m.el){const{scrollWidth:F,offsetWidth:K}=m.el;v=F-K-v}b.value?i.horizontal(v,g.value):i(v,g.value)}}function y(v){const{scrollTop:w,scrollLeft:T}=v.target;o.value=b.value?T:w}function E(v){if(C.value=!0,!(!u.value||!_.el)){for(const w of v.composedPath())for(const T of _.el.children)if(T===w){A(T);return}}}function D(v){C.value=!1}let B=!1;function R(v){var w;!B&&!C.value&&!(v.relatedTarget&&((w=_.el)!=null&&w.contains(v.relatedTarget)))&&Y(),B=!1}function z(){B=!0}function G(v){if(!_.el)return;function w(T){v.preventDefault(),Y(T)}b.value?v.key==="ArrowRight"?w(l.value?"prev":"next"):v.key==="ArrowLeft"&&w(l.value?"next":"prev"):v.key==="ArrowDown"?w("next"):v.key==="ArrowUp"&&w("prev"),v.key==="Home"?w("first"):v.key==="End"&&w("last")}function H(v,w){if(!v)return;let T=v;do T=T==null?void 0:T[w==="next"?"nextElementSibling":"previousElementSibling"];while(T!=null&&T.hasAttribute("disabled"));return T}function Y(v){if(!_.el)return;let w;if(!v)w=je(_.el)[0];else if(v==="next"){if(w=H(_.el.querySelector(":focus"),v),!w)return Y("first")}else if(v==="prev"){if(w=H(_.el.querySelector(":focus"),v),!w)return Y("last")}else v==="first"?(w=_.el.firstElementChild,w!=null&&w.hasAttribute("disabled")&&(w=H(w,"next"))):v==="last"&&(w=_.el.lastElementChild,w!=null&&w.hasAttribute("disabled")&&(w=H(w,"prev")));w&&w.focus({preventScroll:!0})}function q(v){const w=b.value&&l.value?-1:1,T=(v==="prev"?-w:w)*f.value;let M=o.value+T;if(b.value&&l.value&&m.el){const{scrollWidth:F,offsetWidth:K}=m.el;M+=F-K}I(M)}const ee=S(()=>({next:r.next,prev:r.prev,select:r.select,isSelected:r.isSelected})),ie=S(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!n.value;case!0:return u.value||Math.abs(o.value)>0;case"mobile":return n.value||u.value||Math.abs(o.value)>0;default:return!n.value&&(u.value||Math.abs(o.value)>0)}}),x=S(()=>Math.abs(o.value)>1),k=S(()=>{if(!m.value)return!1;const v=_t(b.value,m.el),w=yl(b.value,m.el);return v-w-Math.abs(o.value)>1});return te(()=>c(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!b.value,"v-slide-group--has-affixes":ie.value,"v-slide-group--is-overflowing":u.value},t.value,e.class],style:e.style,tabindex:C.value||r.selected.value.length?-1:0,onFocus:R},{default:()=>{var v,w,T;return[ie.value&&c("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!x.value}],onMousedown:z,onClick:()=>x.value&&q("prev")},[((v=a.prev)==null?void 0:v.call(a,ee.value))??c(mt,null,{default:()=>[c(ne,{icon:l.value?e.nextIcon:e.prevIcon},null)]})]),c("div",{key:"container",ref:m,class:"v-slide-group__container",onScroll:y},[c("div",{ref:_,class:"v-slide-group__content",onFocusin:E,onFocusout:D,onKeydown:G},[(w=a.default)==null?void 0:w.call(a,ee.value)])]),ie.value&&c("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!k.value}],onMousedown:z,onClick:()=>k.value&&q("next")},[((T=a.next)==null?void 0:T.call(a,ee.value))??c(mt,null,{default:()=>[c(ne,{icon:l.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:r.selected,scrollTo:q,scrollOffset:o,focus:Y,hasPrev:x,hasNext:k}}}),aa=Symbol.for("vuetify:v-chip-group"),bl=j({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:xt},...ta(),...me(),...Dt({selectedClass:"v-chip--selected"}),...Ee(),...Ae(),...Mt({variant:"tonal"})},"VChipGroup");Z()({name:"VChipGroup",props:bl(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:a}=s;const{themeClasses:l}=Ne(e),{isSelected:t,select:n,next:r,prev:u,selected:o}=Rt(e,aa);return Je({VChip:{color:W(e,"color"),disabled:W(e,"disabled"),filter:W(e,"filter"),variant:W(e,"variant")}}),te(()=>{const f=St.filterProps(e);return c(St,U(f,{class:["v-chip-group",{"v-chip-group--column":e.column},l.value,e.class],style:e.style}),{default:()=>{var p;return[(p=a.default)==null?void 0:p.call(a,{isSelected:t,select:n,next:r,prev:u,selected:o.value})]}})}),{}}});const wl=j({activeClass:String,appendAvatar:String,appendIcon:de,closable:Boolean,closeIcon:{type:de,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:de,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:de,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:gt(),onClickOnce:gt(),...rt(),...me(),...Ct(),...st(),...ga(),...ot(),...ma(),...fa(),...Ee({tag:"span"}),...Ae(),...Mt({variant:"tonal"})},"VChip"),_l=Z()({name:"VChip",directives:{Ripple:It},props:wl(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,s){let{attrs:a,emit:l,slots:t}=s;const{t:n}=Ot(),{borderClasses:r}=at(e),{colorClasses:u,colorStyles:o,variantClasses:f}=ua(e),{densityClasses:p}=Bt(e),{elevationClasses:b}=lt(e),{roundedClasses:m}=nt(e),{sizeClasses:V}=ia(e),{themeClasses:_}=Ne(e),P=ue(e,"modelValue"),i=ca(e,aa,!1),g=da(e,a),h=S(()=>e.link!==!1&&g.isLink.value),d=S(()=>!e.disabled&&e.link!==!1&&(!!i||e.link||g.isClickable.value)),C=S(()=>({"aria-label":n(e.closeLabel),onClick(y){y.preventDefault(),y.stopPropagation(),P.value=!1,l("click:close",y)}}));function A(y){var E;l("click",y),d.value&&((E=g.navigate)==null||E.call(g,y),i==null||i.toggle())}function I(y){(y.key==="Enter"||y.key===" ")&&(y.preventDefault(),A(y))}return()=>{var Y;const y=g.isLink.value?"a":e.tag,E=!!(e.appendIcon||e.appendAvatar),D=!!(E||t.append),B=!!(t.close||e.closable),R=!!(t.filter||e.filter)&&i,z=!!(e.prependIcon||e.prependAvatar),G=!!(z||t.prepend),H=!i||i.isSelected.value;return P.value&&Le(c(y,U({class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":d.value,"v-chip--filter":R,"v-chip--pill":e.pill,[`${e.activeClass}`]:e.activeClass&&((Y=g.isActive)==null?void 0:Y.value)},_.value,r.value,H?u.value:void 0,p.value,b.value,m.value,V.value,f.value,i==null?void 0:i.selectedClass.value,e.class],style:[H?o.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:d.value?0:void 0,onClick:A,onKeydown:d.value&&!h.value&&I},g.linkProps),{default:()=>{var q;return[va(d.value,"v-chip"),R&&c(zt,{key:"filter"},{default:()=>[Le(c("div",{class:"v-chip__filter"},[t.filter?c(ge,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},t.filter):c(ne,{key:"filter-icon",icon:e.filterIcon},null)]),[[Ft,i.isSelected.value]])]}),G&&c("div",{key:"prepend",class:"v-chip__prepend"},[t.prepend?c(ge,{key:"prepend-defaults",disabled:!z,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},t.prepend):c(re,null,[e.prependIcon&&c(ne,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&c(Xe,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),c("div",{class:"v-chip__content","data-no-activator":""},[((q=t.default)==null?void 0:q.call(t,{isSelected:i==null?void 0:i.isSelected.value,selectedClass:i==null?void 0:i.selectedClass.value,select:i==null?void 0:i.select,toggle:i==null?void 0:i.toggle,value:i==null?void 0:i.value.value,disabled:e.disabled}))??e.text]),D&&c("div",{key:"append",class:"v-chip__append"},[t.append?c(ge,{key:"append-defaults",disabled:!E,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},t.append):c(re,null,[e.appendIcon&&c(ne,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&c(Xe,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),B&&c("button",U({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},C.value),[t.close?c(ge,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},t.close):c(ne,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[Tt("ripple"),d.value&&e.ripple,null]])}}}),Sl=j({id:String,submenu:Boolean,...et(qa({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:Wt}}),["absolute"])},"VMenu"),la=Z()({name:"VMenu",props:Sl(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:a}=s;const l=ue(e,"modelValue"),{scopeId:t}=qt(),{isRtl:n}=tt(),r=Fe(),u=S(()=>e.id||`v-menu-${r}`),o=O(),f=Et(yt,null),p=N(new Set);Pt(yt,{register(){p.value.add(r)},unregister(){p.value.delete(r)},closeParents(i){setTimeout(()=>{var g;!p.value.size&&!e.persistent&&(i==null||(g=o.value)!=null&&g.contentEl&&!pa(i,o.value.contentEl))&&(l.value=!1,f==null||f.closeParents())},40)}}),ut(()=>{f==null||f.unregister(),document.removeEventListener("focusin",b)}),ha(()=>l.value=!1);async function b(i){var d,C,A;const g=i.relatedTarget,h=i.target;await Te(),l.value&&g!==h&&((d=o.value)!=null&&d.contentEl)&&((C=o.value)!=null&&C.globalTop)&&![document,o.value.contentEl].includes(h)&&!o.value.contentEl.contains(h)&&((A=je(o.value.contentEl)[0])==null||A.focus())}Q(l,i=>{i?(f==null||f.register(),he&&document.addEventListener("focusin",b,{once:!0})):(f==null||f.unregister(),he&&document.removeEventListener("focusin",b))},{immediate:!0});function m(i){f==null||f.closeParents(i)}function V(i){var g,h,d,C,A;if(!e.disabled)if(i.key==="Tab"||i.key==="Enter"&&!e.closeOnContentClick){if(i.key==="Enter"&&(i.target instanceof HTMLTextAreaElement||i.target instanceof HTMLInputElement&&i.target.closest("form")))return;i.key==="Enter"&&i.preventDefault(),ya(je((g=o.value)==null?void 0:g.contentEl,!1),i.shiftKey?"prev":"next",y=>y.tabIndex>=0)||(l.value=!1,(d=(h=o.value)==null?void 0:h.activatorEl)==null||d.focus())}else e.submenu&&i.key===(n.value?"ArrowRight":"ArrowLeft")&&(l.value=!1,(A=(C=o.value)==null?void 0:C.activatorEl)==null||A.focus())}function _(i){var h;if(e.disabled)return;const g=(h=o.value)==null?void 0:h.contentEl;g&&l.value?i.key==="ArrowDown"?(i.preventDefault(),i.stopImmediatePropagation(),qe(g,"next")):i.key==="ArrowUp"?(i.preventDefault(),i.stopImmediatePropagation(),qe(g,"prev")):e.submenu&&(i.key===(n.value?"ArrowRight":"ArrowLeft")?l.value=!1:i.key===(n.value?"ArrowLeft":"ArrowRight")&&(i.preventDefault(),qe(g,"first"))):(e.submenu?i.key===(n.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(i.key))&&(l.value=!0,i.preventDefault(),setTimeout(()=>setTimeout(()=>_(i))))}const P=S(()=>U({"aria-haspopup":"menu","aria-expanded":String(l.value),"aria-controls":u.value,onKeydown:_},e.activatorProps));return te(()=>{const i=pt.filterProps(e);return c(pt,U({ref:o,id:u.value,class:["v-menu",e.class],style:e.style},i,{modelValue:l.value,"onUpdate:modelValue":g=>l.value=g,absolute:!0,activatorProps:P.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":m,onKeydown:V},t),{activator:a.activator,default:function(){for(var g=arguments.length,h=new Array(g),d=0;d<g;d++)h[d]=arguments[d];return c(ge,{root:"VMenu"},{default:()=>{var C;return[(C=a.default)==null?void 0:C.call(a,...h)]}})}})}),Gt({id:u,ΨopenChildren:p},o)}}),kl=j({renderless:Boolean,...me()},"VVirtualScrollItem"),Vl=Z()({name:"VVirtualScrollItem",inheritAttrs:!1,props:kl(),emits:{"update:height":e=>!0},setup(e,s){let{attrs:a,emit:l,slots:t}=s;const{resizeRef:n,contentRect:r}=Pe(void 0,"border");Q(()=>{var u;return(u=r.value)==null?void 0:u.height},u=>{u!=null&&l("update:height",u)}),te(()=>{var u,o;return e.renderless?c(re,null,[(u=t.default)==null?void 0:u.call(t,{itemRef:n})]):c("div",U({ref:n,class:["v-virtual-scroll__item",e.class],style:e.style},a),[(o=t.default)==null?void 0:o.call(t)])})}}),Cl=-1,xl=1,Ge=100,Pl=j({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function Il(e,s){const a=He(),l=N(0);Me(()=>{l.value=parseFloat(e.itemHeight||0)});const t=N(0),n=N(Math.ceil((parseInt(e.height)||a.height.value)/(l.value||16))||1),r=N(0),u=N(0),o=O(),f=O();let p=0;const{resizeRef:b,contentRect:m}=Pe();Me(()=>{b.value=o.value});const V=S(()=>{var k;return o.value===document.documentElement?a.height.value:((k=m.value)==null?void 0:k.height)||parseInt(e.height)||0}),_=S(()=>!!(o.value&&f.value&&V.value&&l.value));let P=Array.from({length:s.value.length}),i=Array.from({length:s.value.length});const g=N(0);let h=-1;function d(k){return P[k]||l.value}const C=ba(()=>{const k=performance.now();i[0]=0;const v=s.value.length;for(let w=1;w<=v-1;w++)i[w]=(i[w-1]||0)+d(w-1);g.value=Math.max(g.value,performance.now()-k)},g),A=Q(_,k=>{k&&(A(),p=f.value.offsetTop,C.immediate(),q(),~h&&Te(()=>{he&&window.requestAnimationFrame(()=>{ie(h),h=-1})}))});$e(()=>{C.clear()});function I(k,v){const w=P[k],T=l.value;l.value=T?Math.min(l.value,v):v,(w!==v||T!==l.value)&&(P[k]=v,C())}function y(k){return k=We(k,0,s.value.length-1),i[k]||0}function E(k){return Al(i,k)}let D=0,B=0,R=0;Q(V,(k,v)=>{v&&(q(),k<v&&requestAnimationFrame(()=>{B=0,q()}))});let z=-1;function G(){if(!o.value||!f.value)return;const k=o.value.scrollTop,v=performance.now();v-R>500?(B=Math.sign(k-D),p=f.value.offsetTop):B=k-D,D=k,R=v,window.clearTimeout(z),z=window.setTimeout(H,500),q()}function H(){!o.value||!f.value||(B=0,R=0,window.clearTimeout(z),q())}let Y=-1;function q(){cancelAnimationFrame(Y),Y=requestAnimationFrame(ee)}function ee(){if(!o.value||!V.value)return;const k=D-p,v=Math.sign(B),w=Math.max(0,k-Ge),T=We(E(w),0,s.value.length),M=k+V.value+Ge,F=We(E(M)+1,T+1,s.value.length);if((v!==Cl||T<t.value)&&(v!==xl||F>n.value)){const K=y(t.value)-y(T),ve=y(F)-y(n.value);Math.max(K,ve)>Ge?(t.value=T,n.value=F):(T<=0&&(t.value=T),F>=s.value.length&&(n.value=F))}r.value=y(t.value),u.value=y(s.value.length)-y(n.value)}function ie(k){const v=y(k);!o.value||k&&!v?h=k:o.value.scrollTop=v}const x=S(()=>s.value.slice(t.value,n.value).map((k,v)=>({raw:k,index:v+t.value,key:wa(k)&&"value"in k?k.value:v+t.value})));return Q(s,()=>{P=Array.from({length:s.value.length}),i=Array.from({length:s.value.length}),C.immediate(),q()},{deep:!0}),{calculateVisibleItems:q,containerRef:o,markerRef:f,computedItems:x,paddingTop:r,paddingBottom:u,scrollToIndex:ie,handleScroll:G,handleScrollend:H,handleItemResize:I}}function Al(e,s){let a=e.length-1,l=0,t=0,n=null,r=-1;if(e[a]<s)return a;for(;l<=a;)if(t=l+a>>1,n=e[t],n>s)a=t-1;else if(n<s)r=t,l=t+1;else return n===s?t:l;return r}const Tl=j({items:{type:Array,default:()=>[]},renderless:Boolean,...Pl(),...me(),...ka()},"VVirtualScroll"),El=Z()({name:"VVirtualScroll",props:Tl(),setup(e,s){let{slots:a}=s;const l=_a("VVirtualScroll"),{dimensionStyles:t}=Sa(e),{calculateVisibleItems:n,containerRef:r,markerRef:u,handleScroll:o,handleScrollend:f,handleItemResize:p,scrollToIndex:b,paddingTop:m,paddingBottom:V,computedItems:_}=Il(e,W(e,"items"));return ke(()=>e.renderless,()=>{function P(){var h,d;const g=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";r.value===document.documentElement?(document[g]("scroll",o,{passive:!0}),document[g]("scrollend",f)):((h=r.value)==null||h[g]("scroll",o,{passive:!0}),(d=r.value)==null||d[g]("scrollend",f))}it(()=>{r.value=Wa(l.vnode.el,!0),P(!0)}),$e(P)}),te(()=>{const P=_.value.map(i=>c(Vl,{key:i.key,renderless:e.renderless,"onUpdate:height":g=>p(i.index,g)},{default:g=>{var h;return(h=a.default)==null?void 0:h.call(a,{item:i.raw,index:i.index,...g})}}));return e.renderless?c(re,null,[c("div",{ref:u,class:"v-virtual-scroll__spacer",style:{paddingTop:Se(m.value)}},null),P,c("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Se(V.value)}},null)]):c("div",{ref:r,class:["v-virtual-scroll",e.class],onScrollPassive:o,onScrollend:f,style:[t.value,e.style]},[c("div",{ref:u,class:"v-virtual-scroll__container",style:{paddingTop:Se(m.value),paddingBottom:Se(V.value)}},[P])])}),{calculateVisibleItems:n,scrollToIndex:b}}});function Bl(e,s){const a=N(!1);let l;function t(u){cancelAnimationFrame(l),a.value=!0,l=requestAnimationFrame(()=>{l=requestAnimationFrame(()=>{a.value=!1})})}async function n(){await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>{if(a.value){const o=Q(a,()=>{o(),u()})}else u()})}async function r(u){var p,b;if(u.key==="Tab"&&((p=s.value)==null||p.focus()),!["PageDown","PageUp","Home","End"].includes(u.key))return;const o=(b=e.value)==null?void 0:b.$el;if(!o)return;(u.key==="Home"||u.key==="End")&&o.scrollTo({top:u.key==="Home"?0:o.scrollHeight,behavior:"smooth"}),await n();const f=o.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(u.key==="PageDown"||u.key==="Home"){const m=o.getBoundingClientRect().top;for(const V of f)if(V.getBoundingClientRect().top>=m){V.focus();break}}else{const m=o.getBoundingClientRect().bottom;for(const V of[...f].reverse())if(V.getBoundingClientRect().bottom<=m){V.focus();break}}}return{onScrollPassive:t,onKeydown:r}}const Dl=j({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:de,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...Qa({itemChildren:!1})},"Select"),Ll=j({...Dl(),...et(Ya({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Ca({transition:{component:Wt}})},"VSelect"),Qe=Z()({name:"VSelect",props:Ll(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,s){let{slots:a}=s;const{t:l}=Ot(),t=O(),n=O(),r=O(),u=ue(e,"menu"),o=S({get:()=>u.value,set:x=>{var k;u.value&&!x&&((k=n.value)!=null&&k.ΨopenChildren.size)||(u.value=x)}}),{items:f,transformIn:p,transformOut:b}=Za(e),m=ue(e,"modelValue",[],x=>p(x===null?[null]:Be(x)),x=>{const k=b(x);return e.multiple?k:k[0]??null}),V=S(()=>typeof e.counterValue=="function"?e.counterValue(m.value):typeof e.counterValue=="number"?e.counterValue:m.value.length),_=Ka(e),P=S(()=>m.value.map(x=>x.value)),i=N(!1),g=S(()=>o.value?e.closeText:e.openText);let h="",d;const C=S(()=>e.hideSelected?f.value.filter(x=>!m.value.some(k=>e.valueComparator(k,x))):f.value),A=S(()=>e.hideNoData&&!C.value.length||_.isReadonly.value||_.isDisabled.value),I=S(()=>{var x;return{...e.menuProps,activatorProps:{...((x=e.menuProps)==null?void 0:x.activatorProps)||{},"aria-haspopup":"listbox"}}}),y=O(),E=Bl(y,t);function D(x){e.openOnClear&&(o.value=!0)}function B(){A.value||(o.value=!o.value)}function R(x){ht(x)&&z(x)}function z(x){var T,M;if(!x.key||_.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(x.key)&&x.preventDefault(),["Enter","ArrowDown"," "].includes(x.key)&&(o.value=!0),["Escape","Tab"].includes(x.key)&&(o.value=!1),x.key==="Home"?(T=y.value)==null||T.focus("first"):x.key==="End"&&((M=y.value)==null||M.focus("last"));const k=1e3;if(!ht(x))return;const v=performance.now();v-d>k&&(h=""),h+=x.key.toLowerCase(),d=v;const w=f.value.find(F=>F.title.toLowerCase().startsWith(h));if(w!==void 0){m.value=[w];const F=C.value.indexOf(w);he&&window.requestAnimationFrame(()=>{var K;F>=0&&((K=r.value)==null||K.scrollToIndex(F))})}}function G(x){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!x.props.disabled)if(e.multiple){const v=m.value.findIndex(T=>e.valueComparator(T.value,x.value)),w=k??!~v;if(~v){const T=w?[...m.value,x]:[...m.value];T.splice(v,1),m.value=T}else w&&(m.value=[...m.value,x])}else{const v=k!==!1;m.value=v?[x]:[],Te(()=>{o.value=!1})}}function H(x){var k;(k=y.value)!=null&&k.$el.contains(x.relatedTarget)||(o.value=!1)}function Y(){var x;e.eager&&((x=r.value)==null||x.calculateVisibleItems())}function q(){var x;i.value&&((x=t.value)==null||x.focus())}function ee(x){i.value=!0}function ie(x){if(x==null)m.value=[];else if(Ye(t.value,":autofill")||Ye(t.value,":-webkit-autofill")){const k=f.value.find(v=>v.title===x);k&&G(k)}else t.value&&(t.value.value="")}return Q(o,()=>{if(!e.hideSelected&&o.value&&m.value.length){const x=C.value.findIndex(k=>m.value.some(v=>e.valueComparator(v.value,k.value)));he&&window.requestAnimationFrame(()=>{var k;x>=0&&((k=r.value)==null||k.scrollToIndex(x))})}}),Q(()=>e.items,(x,k)=>{o.value||i.value&&!k.length&&x.length&&(o.value=!0)}),te(()=>{const x=!!(e.chips||a.chip),k=!!(!e.hideNoData||C.value.length||a["prepend-item"]||a["append-item"]||a["no-data"]),v=m.value.length>0,w=bt.filterProps(e),T=v||!i.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return c(bt,U({ref:t},w,{modelValue:m.value.map(M=>M.props.value).join(", "),"onUpdate:modelValue":ie,focused:i.value,"onUpdate:focused":M=>i.value=M,validationValue:m.externalValue,counterValue:V.value,dirty:v,class:["v-select",{"v-select--active-menu":o.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":m.value.length,"v-select--selection-slot":!!a.selection},e.class],style:e.style,inputmode:"none",placeholder:T,"onClick:clear":D,"onMousedown:control":B,onBlur:H,onKeydown:z,"aria-label":l(g.value),title:l(g.value)}),{...a,default:()=>c(re,null,[c(la,U({ref:n,modelValue:o.value,"onUpdate:modelValue":M=>o.value=M,activator:"parent",contentClass:"v-select__content",disabled:A.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:Y,onAfterLeave:q},I.value),{default:()=>[k&&c(Kt,U({ref:y,selected:P.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:M=>M.preventDefault(),onKeydown:R,onFocusin:ee,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},E,e.listProps),{default:()=>{var M,F,K;return[(M=a["prepend-item"])==null?void 0:M.call(a),!C.value.length&&!e.hideNoData&&(((F=a["no-data"])==null?void 0:F.call(a))??c(Ze,{key:"no-data",title:l(e.noDataText)},null)),c(El,{ref:r,renderless:!0,items:C.value},{default:ve=>{var ft;let{item:ae,index:xe,itemRef:le}=ve;const vt=U(ae.props,{ref:le,key:ae.value,onClick:()=>G(ae,null)});return((ft=a.item)==null?void 0:ft.call(a,{item:ae,index:xe,props:vt}))??c(Ze,U(vt,{role:"option"}),{prepend:na=>{let{isSelected:oa}=na;return c(re,null,[e.multiple&&!e.hideSelected?c(ml,{key:ae.value,modelValue:oa,ripple:!1,tabindex:"-1"},null):void 0,ae.props.prependAvatar&&c(Xe,{image:ae.props.prependAvatar},null),ae.props.prependIcon&&c(ne,{icon:ae.props.prependIcon},null)])}})}}),(K=a["append-item"])==null?void 0:K.call(a)]}})]}),m.value.map((M,F)=>{function K(le){le.stopPropagation(),le.preventDefault(),G(M,!1)}const ve={"onClick:close":K,onKeydown(le){le.key!=="Enter"&&le.key!==" "||(le.preventDefault(),le.stopPropagation(),K(le))},onMousedown(le){le.preventDefault(),le.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},ae=x?!!a.chip:!!a.selection,xe=ae?Va(x?a.chip({item:M,index:F,props:ve}):a.selection({item:M,index:F})):void 0;if(!(ae&&!xe))return c("div",{key:M.value,class:"v-select__selection"},[x?a.chip?c(ge,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:M.title}}},{default:()=>[xe]}):c(_l,U({key:"chip",closable:e.closableChips,size:"small",text:M.title,disabled:M.props.disabled},ve),null):xe??c("span",{class:"v-select__selection-text"},[M.title,e.multiple&&F<m.value.length-1&&c("span",{class:"v-select__selection-comma"},[ye(",")])])])})]),"append-inner":function(){var ve;for(var M=arguments.length,F=new Array(M),K=0;K<M;K++)F[K]=arguments[K];return c(re,null,[(ve=a["append-inner"])==null?void 0:ve.call(a,...F),e.menuIcon?c(ne,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),Gt({isFocused:i,menu:o,select:G},t)}}),Rl=pe({__name:"PseudoRole",async setup(e){let s,a;const{active_emp:l,profile:t}=X(be()),n=ul(),{roles:r}=X(n),{fetchRoles:u}=n;return[s,a]=ct(()=>u()),await s,a(),(o,f)=>L(l)&&L(l).role&&L(t)&&L(t).role_id===1?(J(),fe(cl,{key:0},{default:$(({isHovering:p,props:b})=>[c(Qe,U({label:"Pseudo Role",modelValue:L(l).role.id,"onUpdate:modelValue":f[0]||(f[0]=m=>L(l).role.id=m)},b,{items:L(r),"item-title":"name","item-value":"id",class:"mr-3","max-width":"128",style:`opacity: ${p?"1":"0"}; transition: 250ms;`,"hide-details":""}),null,16,["modelValue","items","style"])]),_:1})):Ve("",!0)}}),Ml=j({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Xa(),...dt()},"VSwitch"),Ol=Z()({name:"VSwitch",inheritAttrs:!1,props:Ml(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,s){let{attrs:a,slots:l}=s;const t=ue(e,"indeterminate"),n=ue(e,"modelValue"),{loaderClasses:r}=xa(e),{isFocused:u,focus:o,blur:f}=ja(e),p=O(),b=he&&window.matchMedia("(forced-colors: active)").matches,m=S(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),V=Fe(),_=S(()=>e.id||`switch-${V}`);function P(){t.value&&(t.value=!1)}function i(g){var h,d;g.stopPropagation(),g.preventDefault(),(d=(h=p.value)==null?void 0:h.input)==null||d.click()}return te(()=>{const[g,h]=At(a),d=wt.filterProps(e),C=Oe.filterProps(e);return c(wt,U({class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":t.value},r.value,e.class]},g,d,{modelValue:n.value,"onUpdate:modelValue":A=>n.value=A,id:_.value,focused:u.value,style:e.style}),{...l,default:A=>{let{id:I,messagesId:y,isDisabled:E,isReadonly:D,isValid:B}=A;const R={model:n,isValid:B};return c(Oe,U({ref:p},C,{modelValue:n.value,"onUpdate:modelValue":[z=>n.value=z,P],id:I.value,"aria-describedby":y.value,type:"checkbox","aria-checked":t.value?"mixed":void 0,disabled:E.value,readonly:D.value,onFocus:o,onBlur:f},h),{...l,default:z=>{let{backgroundColorClasses:G,backgroundColorStyles:H}=z;return c("div",{class:["v-switch__track",b?void 0:G.value],style:H.value,onClick:i},[l["track-true"]&&c("div",{key:"prepend",class:"v-switch__track-true"},[l["track-true"](R)]),l["track-false"]&&c("div",{key:"append",class:"v-switch__track-false"},[l["track-false"](R)])])},input:z=>{let{inputNode:G,icon:H,backgroundColorClasses:Y,backgroundColorStyles:q}=z;return c(re,null,[G,c("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":H||e.loading},e.inset||b?void 0:Y.value],style:e.inset?void 0:q.value},[l.thumb?c(ge,{defaults:{VIcon:{icon:H,size:"x-small"}}},{default:()=>[l.thumb({...R,icon:H})]}):c(Pa,null,{default:()=>[e.loading?c(Ia,{name:"v-switch",active:!0,color:B.value===!1?void 0:m.value},{default:ee=>l.loader?l.loader(ee):c(Aa,{active:ee.isActive,color:ee.color,indeterminate:!0,size:"16",width:"2"},null)}):H&&c(ne,{key:String(H),icon:H,size:"x-small"},null)]})])])}})}})}),{}}}),zl={class:"text-end"},Fl={key:0,class:"text-caption"},$l={class:"color-secondary"},Hl={class:"color-primary text-caption"},Nl=pe({__name:"Settings",setup(e){const{langs:s,txt:a}=X(we()),l=be(),{active_emp:t,active_emp_id:n,isDark:r,isPending:u,profile:o,redeemedCodes:f}=X(l),{fetchLinkCodes:p,logOut:b}=l,m=O(!1),V=Ta();Q(r,()=>{P()});async function _(){await b(),La("/")}function P(){V.global.name.value=r.value?"theme_dark":"theme_light"}function i(){P(),n.value=o.value.active_emp_id,p(o.value.id)}return i(),(g,h)=>L(o)?(J(),fe(la,{key:0,modelValue:L(m),"onUpdate:modelValue":h[3]||(h[3]=d=>De(m)?m.value=d:null),"close-on-content-click":!1,location:"bottom"},{activator:$(({props:d})=>[ce("div",U(d,{class:"d-flex align-center cursor-pointer"}),[ce("div",zl,[ce("p",null,oe(L(o).fname)+" "+oe(L(o).lname),1),L(t).id?(J(),Ce("p",Fl,[ce("span",$l,oe(L(t).location.name),1),ce("span",Hl,"  "+oe(L(a).roles[L(t).role.id-1]),1)])):Ve("",!0)]),c(ne,{icon:"mdi-account-circle",class:"pr-3 pl-6",color:"secondary",size:"x-large",style:{background:"transparent"}})],16)]),default:$(()=>[c(Ea,{class:"mt-3",disabled:L(u)},{default:$(()=>[c(Ba,{class:"px-6"},{default:$(()=>[L(f).length>1?(J(),fe(Qe,{key:0,label:L(a).location,modelValue:L(n),"onUpdate:modelValue":h[0]||(h[0]=d=>De(n)?n.value=d:null),items:L(f),"item-title":"location.name","item-value":"id",color:"primary","hide-details":""},null,8,["label","modelValue","items"])):Ve("",!0),c(Ol,{label:L(a).darkMode,modelValue:L(r),"onUpdate:modelValue":h[1]||(h[1]=d=>De(r)?r.value=d:null),color:"primary","hide-details":""},null,8,["label","modelValue"]),c(Qe,{label:L(a).language,modelValue:L(o).lang_id,"onUpdate:modelValue":h[2]||(h[2]=d=>L(o).lang_id=d),items:L(s),"item-title":"name","item-value":"id",color:"primary","hide-details":""},null,8,["label","modelValue","items"])]),_:1}),c(Da,null,{default:$(()=>[c(el),c(Ue,{class:"px-2",color:"secondary",onClick:_},{default:$(()=>[ye(oe(L(a).logOut),1)]),_:1})]),_:1})]),_:1},8,["disabled"])]),_:1},8,["modelValue"])):Ve("",!0)}}),Ul={class:"pr-3"},ql={key:0,class:"d-flex"},Wl=pe({__name:"LogInOutBtn",async setup(e){let s,a;const{txt:l}=X(we()),t=be(),{isLoggedIn:n}=X(t),{loadSession:r}=t;return[s,a]=ct(()=>r()),await s,a(),(u,o)=>(J(),Ce("div",Ul,[L(n)?Ve("",!0):(J(),Ce("div",ql,[c(Ue,{class:"mx-3 emboss",color:"secondary",to:"/login",nuxt:""},{default:$(()=>[ye(oe(L(l).logIn),1)]),_:1})]))]))}}),Gl=j({...Ra({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),Kl=Z()({name:"VAppBarNavIcon",props:Gl(),setup(e,s){let{slots:a}=s;return te(()=>c(Ue,U(e,{class:["v-app-bar-nav-icon"]}),a)),{}}}),Yl=Z()({name:"VAppBarTitle",props:Ma(),setup(e,s){let{slots:a}=s;return te(()=>c(Oa,U(e,{class:"v-app-bar-title"}),a)),{}}}),jl={class:"brand-font color-primary mb-n1 d-flex align-end"},Xl={class:"text-caption color-secondary font-italic"},Zl=pe({__name:"AppBar",setup(e){const{brandIcon:s,isMenu:a,isMobile:l,siteName:t,tagLine:n}=X(we()),r=He();return l.value=S(()=>r.mobile.value),(u,o)=>{const f=Rl,p=Nl,b=Wl;return J(),fe(tl,null,{prepend:$(()=>[c(zt,null,{default:$(()=>[Le(ce("div",null,[c(Kl,{color:"primary",style:{background:"transparent"},onClick:o[0]||(o[0]=m=>a.value=!L(a))})],512),[[Ft,L(l)]])]),_:1})]),default:$(()=>[c(Yl,{class:$t(L(l)?"ml-0":"ml-3")},{default:$(()=>[ce("div",null,[ce("p",jl,[c(ne,{icon:L(s),color:"primary"},null,8,["icon"]),ye(" "+oe(L(t)),1)]),ce("p",Xl,oe(L(n)),1)])]),_:1},8,["class"]),c(f),c(p),c(b)]),_:1})}}});function Ql(e){let{rootEl:s,isSticky:a,layoutItemStyles:l}=e;const t=N(!1),n=N(0),r=S(()=>{const f=typeof t.value=="boolean"?"top":t.value;return[a.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[f]:Se(n.value)}:{top:l.value.top}]});it(()=>{Q(a,f=>{f?window.addEventListener("scroll",o,{passive:!0}):window.removeEventListener("scroll",o)},{immediate:!0})}),ut(()=>{window.removeEventListener("scroll",o)});let u=0;function o(){const f=u>window.scrollY?"up":"down",p=s.value.getBoundingClientRect(),b=parseFloat(l.value.top??0),m=window.scrollY-Math.max(0,n.value-b),V=p.height+Math.max(n.value,b)-window.scrollY-window.innerHeight,_=parseFloat(getComputedStyle(s.value).getPropertyValue("--v-body-scroll-y"))||0;p.height<window.innerHeight-b?(t.value="top",n.value=b):f==="up"&&t.value==="bottom"||f==="down"&&t.value==="top"?(n.value=window.scrollY+p.top-_,t.value=!0):f==="down"&&V<=0?(n.value=0,t.value="bottom"):f==="up"&&m<=0&&(_?t.value!=="top"&&(n.value=-m+_+b,t.value="top"):(n.value=p.top+m,t.value="top")),u=window.scrollY}return{isStuck:t,stickyStyles:r}}const Jl=100,en=20;function kt(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function Vt(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let s=0;for(let a=e.length-1;a>0;a--){if(e[a].t===e[a-1].t)continue;const l=kt(s),t=(e[a].d-e[a-1].d)/(e[a].t-e[a-1].t);s+=(t-l)*Math.abs(t),a===e.length-1&&(s*=.5)}return kt(s)*1e3}function tn(){const e={};function s(t){Array.from(t.changedTouches).forEach(n=>{(e[n.identifier]??(e[n.identifier]=new za(en))).push([t.timeStamp,n])})}function a(t){Array.from(t.changedTouches).forEach(n=>{delete e[n.identifier]})}function l(t){var f;const n=(f=e[t])==null?void 0:f.values().reverse();if(!n)throw new Error(`No samples for touch id ${t}`);const r=n[0],u=[],o=[];for(const p of n){if(r[0]-p[0]>Jl)break;u.push({t:p[0],d:p[1].clientX}),o.push({t:p[0],d:p[1].clientY})}return{x:Vt(u),y:Vt(o),get direction(){const{x:p,y:b}=this,[m,V]=[Math.abs(p),Math.abs(b)];return m>V&&p>=0?"right":m>V&&p<=0?"left":V>m&&b>=0?"down":V>m&&b<=0?"up":an()}}}return{addMovement:s,endTouch:a,getVelocity:l}}function an(){throw new Error}function ln(e){let{el:s,isActive:a,isTemporary:l,width:t,touchless:n,position:r}=e;it(()=>{window.addEventListener("touchstart",h,{passive:!0}),window.addEventListener("touchmove",d,{passive:!1}),window.addEventListener("touchend",C,{passive:!0})}),ut(()=>{window.removeEventListener("touchstart",h),window.removeEventListener("touchmove",d),window.removeEventListener("touchend",C)});const u=S(()=>["left","right"].includes(r.value)),{addMovement:o,endTouch:f,getVelocity:p}=tn();let b=!1;const m=N(!1),V=N(0),_=N(0);let P;function i(I,y){return(r.value==="left"?I:r.value==="right"?document.documentElement.clientWidth-I:r.value==="top"?I:r.value==="bottom"?document.documentElement.clientHeight-I:_e())-(y?t.value:0)}function g(I){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const E=r.value==="left"?(I-_.value)/t.value:r.value==="right"?(document.documentElement.clientWidth-I-_.value)/t.value:r.value==="top"?(I-_.value)/t.value:r.value==="bottom"?(document.documentElement.clientHeight-I-_.value)/t.value:_e();return y?Math.max(0,Math.min(1,E)):E}function h(I){if(n.value)return;const y=I.changedTouches[0].clientX,E=I.changedTouches[0].clientY,D=25,B=r.value==="left"?y<D:r.value==="right"?y>document.documentElement.clientWidth-D:r.value==="top"?E<D:r.value==="bottom"?E>document.documentElement.clientHeight-D:_e(),R=a.value&&(r.value==="left"?y<t.value:r.value==="right"?y>document.documentElement.clientWidth-t.value:r.value==="top"?E<t.value:r.value==="bottom"?E>document.documentElement.clientHeight-t.value:_e());(B||R||a.value&&l.value)&&(P=[y,E],_.value=i(u.value?y:E,a.value),V.value=g(u.value?y:E),b=_.value>-20&&_.value<80,f(I),o(I))}function d(I){const y=I.changedTouches[0].clientX,E=I.changedTouches[0].clientY;if(b){if(!I.cancelable){b=!1;return}const B=Math.abs(y-P[0]),R=Math.abs(E-P[1]);(u.value?B>R&&B>3:R>B&&R>3)?(m.value=!0,b=!1):(u.value?R:B)>3&&(b=!1)}if(!m.value)return;I.preventDefault(),o(I);const D=g(u.value?y:E,!1);V.value=Math.max(0,Math.min(1,D)),D>1?_.value=i(u.value?y:E,!0):D<0&&(_.value=i(u.value?y:E,!1))}function C(I){if(b=!1,!m.value)return;o(I),m.value=!1;const y=p(I.changedTouches[0].identifier),E=Math.abs(y.x),D=Math.abs(y.y);(u.value?E>D&&E>400:D>E&&D>3)?a.value=y.direction===({left:"right",right:"left",top:"down",bottom:"up"}[r.value]||_e()):a.value=V.value>.5}const A=S(()=>m.value?{transform:r.value==="left"?`translateX(calc(-100% + ${V.value*t.value}px))`:r.value==="right"?`translateX(calc(100% - ${V.value*t.value}px))`:r.value==="top"?`translateY(calc(-100% + ${V.value*t.value}px))`:r.value==="bottom"?`translateY(calc(100% - ${V.value*t.value}px))`:_e(),transition:"none"}:void 0);return ke(m,()=>{var E,D;const I=((E=s.value)==null?void 0:E.style.transform)??null,y=((D=s.value)==null?void 0:D.style.transition)??null;Me(()=>{var B,R,z,G;(R=s.value)==null||R.style.setProperty("transform",((B=A.value)==null?void 0:B.transform)||"none"),(G=s.value)==null||G.style.setProperty("transition",((z=A.value)==null?void 0:z.transition)||null)}),$e(()=>{var B,R;(B=s.value)==null||B.style.setProperty("transform",I),(R=s.value)==null||R.style.setProperty("transition",y)})}),{isDragging:m,dragProgress:V,dragStyles:A}}function _e(){throw new Error}const nn=["start","end","left","right","top","bottom"],on=j({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>nn.includes(e)},sticky:Boolean,...rt(),...me(),...Ut(),...Lt({mobile:null}),...st(),...jt(),...ot(),...Ee({tag:"nav"}),...Ae()},"VNavigationDrawer"),sn=Z()({name:"VNavigationDrawer",props:on(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,s){let{attrs:a,emit:l,slots:t}=s;const{isRtl:n}=tt(),{themeClasses:r}=Ne(e),{borderClasses:u}=at(e),{backgroundColorClasses:o,backgroundColorStyles:f}=Re(W(e,"color")),{elevationClasses:p}=lt(e),{displayClasses:b,mobile:m}=He(e),{roundedClasses:V}=nt(e),_=Fa(),P=ue(e,"modelValue",null,v=>!!v),{ssrBootStyles:i}=nl(),{scopeId:g}=qt(),h=O(),d=N(!1),{runOpenDelay:C,runCloseDelay:A}=Nt(e,v=>{d.value=v}),I=S(()=>e.rail&&e.expandOnHover&&d.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),y=S(()=>$a(e.location,n.value)),E=S(()=>e.persistent),D=S(()=>!e.permanent&&(m.value||e.temporary)),B=S(()=>e.sticky&&!D.value&&y.value!=="bottom");ke(()=>e.expandOnHover&&e.rail!=null,()=>{Q(d,v=>l("update:rail",!v))}),ke(()=>!e.disableResizeWatcher,()=>{Q(D,v=>!e.permanent&&Te(()=>P.value=!v))}),ke(()=>!e.disableRouteWatcher&&!!_,()=>{Q(_.currentRoute,()=>D.value&&(P.value=!1))}),Q(()=>e.permanent,v=>{v&&(P.value=!0)}),e.modelValue==null&&!D.value&&(P.value=e.permanent||!m.value);const{isDragging:R,dragProgress:z}=ln({el:h,isActive:P,isTemporary:D,width:I,touchless:W(e,"touchless"),position:y}),G=S(()=>{const v=D.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):I.value;return R.value?v*z.value:v}),H=S(()=>["top","bottom"].includes(e.location)?0:I.value),{layoutItemStyles:Y,layoutItemScrimStyles:q}=Yt({id:e.name,order:S(()=>parseInt(e.order,10)),position:y,layoutSize:G,elementSize:H,active:S(()=>P.value||R.value),disableTransitions:S(()=>R.value),absolute:S(()=>e.absolute||B.value&&typeof ee.value!="string")}),{isStuck:ee,stickyStyles:ie}=Ql({rootEl:h,isSticky:B,layoutItemStyles:Y}),x=Re(S(()=>typeof e.scrim=="string"?e.scrim:null)),k=S(()=>({...R.value?{opacity:z.value*.2,transition:"none"}:void 0,...q.value}));return Je({VList:{bgColor:"transparent"}}),te(()=>{const v=t.image||e.image;return c(re,null,[c(e.tag,U({ref:h,onMouseenter:C,onMouseleave:A,class:["v-navigation-drawer",`v-navigation-drawer--${y.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":d.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":D.value,"v-navigation-drawer--persistent":E.value,"v-navigation-drawer--active":P.value,"v-navigation-drawer--sticky":B.value},r.value,o.value,u.value,b.value,p.value,V.value,e.class],style:[f.value,Y.value,i.value,ie.value,e.style,["top","bottom"].includes(y.value)?{height:"auto"}:{}]},g,a),{default:()=>{var w,T,M;return[v&&c("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?c(ge,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},t.image):c(Ha,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),t.prepend&&c("div",{class:"v-navigation-drawer__prepend"},[(w=t.prepend)==null?void 0:w.call(t)]),c("div",{class:"v-navigation-drawer__content"},[(T=t.default)==null?void 0:T.call(t)]),t.append&&c("div",{class:"v-navigation-drawer__append"},[(M=t.append)==null?void 0:M.call(t)])]}}),c(Na,{name:"fade-transition"},{default:()=>[D.value&&(R.value||P.value)&&!!e.scrim&&c("div",U({class:["v-navigation-drawer__scrim",x.backgroundColorClasses.value],style:[k.value,x.backgroundColorStyles.value],onClick:()=>{E.value||(P.value=!1)}},g),null)]})])}),{isStuck:ee}}}),rn=pe({__name:"NavDrawer",setup(e){const{isMenu:s}=X(we()),{pages:a}=X(Xt());return(l,t)=>(J(),fe(sn,{modelValue:L(s),"onUpdate:modelValue":t[0]||(t[0]=n=>De(s)?s.value=n:null),style:{"border-right":"1px solid rgb(var(--v-theme-surfaceEdgeRight))"},width:"180"},{default:$(()=>[c(Kt,null,{default:$(()=>[(J(!0),Ce(re,null,Ht(L(a).filter(n=>n.isShow),n=>(J(),fe(Ze,{to:n.to,key:n.id,value:n.id,color:"primary",variant:"text"},{prepend:$(()=>[c(ne,{icon:n.icon},null,8,["icon"])]),default:$(()=>[c(Ja,null,{default:$(()=>[ye(oe(n.title),1)]),_:2},1024)]),_:2},1032,["to","value"]))),128))]),_:1})]),_:1},8,["modelValue"]))}}),un=j({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...rt(),...me(),...st(),...jt(),...ot(),...Ee({tag:"footer"}),...Ae()},"VFooter"),cn=Z()({name:"VFooter",props:un(),setup(e,s){let{slots:a}=s;const l=O(),{themeClasses:t}=Ne(e),{backgroundColorClasses:n,backgroundColorStyles:r}=Re(W(e,"color")),{borderClasses:u}=at(e),{elevationClasses:o}=lt(e),{roundedClasses:f}=nt(e),p=N(32),{resizeRef:b}=Pe(V=>{V.length&&(p.value=V[0].target.clientHeight)}),m=S(()=>e.height==="auto"?p.value:parseInt(e.height,10));return ke(()=>e.app,()=>{const V=Yt({id:e.name,order:S(()=>parseInt(e.order,10)),position:S(()=>"bottom"),layoutSize:m,elementSize:S(()=>e.height==="auto"?void 0:m.value),active:S(()=>e.app),absolute:W(e,"absolute")});Me(()=>{l.value=V.layoutItemStyles.value})}),te(()=>c(e.tag,{ref:b,class:["v-footer",t.value,n.value,u.value,o.value,f.value,e.class],style:[r.value,e.app?l.value:{height:Se(e.height)},e.style]},a)),{}}}),dn={class:"brand-font"},vn=pe({__name:"Footer",setup(e){const{siteName:s}=X(we()),{pages:a}=X(Xt());return(l,t)=>(J(),fe(cn,{class:"w-100 d-flex justify-center flex-column text-center",style:{bottom:"0px",position:"fixed"}},{default:$(()=>[c(ol,{"no-gutters":"",class:"justify-center rounded-pill py-0",style:{"border-top":"1px solid rgb(var(--v-theme-surfaceEdgeBottom))","border-right":"1px solid rgb(var(--v-theme-surfaceEdgeLeft))","border-bottom":"1px solid rgb(var(--v-theme-surfaceEdgeTop))","border-left":"1px solid rgb(var(--v-theme-surfaceEdgeRight))",overflow:"hidden"}},{default:$(()=>[(J(!0),Ce(re,null,Ht(L(a).filter(n=>n.isShow),(n,r)=>(J(),fe(Ue,{to:n.to,key:r,value:n.id,class:"mx-2 my-n1",color:"primary",style:{opacity:"0.7"},variant:"plain"},{default:$(()=>[ye(oe(n.title),1)]),_:2},1032,["to","value"]))),128))]),_:1}),c(sl,{class:"pt-2 pb-0 color-primary",style:{opacity:"0.7"}},{default:$(()=>[ye(oe(new Date().getFullYear())+" — ",1),ce("span",dn,oe(L(s)),1)]),_:1})]),_:1}))}}),fn=ze("departmentStore",()=>{const e=be(),{profile:s}=X(e),a=O(!1),l=O([]),t=O({}),n=O(0),r=S(()=>a.value),u=O({isAsc:!0,orderBy:"name",page:1,perPage:10,search:""}),o=S(()=>({id:0,name:"",location_id:0})),f=S(()=>(u.value.page-1)*u.value.perPage),p=S(()=>f.value+u.value.perPage-1);function b(){l.value=[],t.value={},n.value=0,a.value=!1,u.value={isAsc:!0,orderBy:"name",page:1,perPage:10,search:""}}async function m(_,P=!1){if(a.value||!s.value)return"Error:  Please try again";a.value=!0;let i="",g=se.from("department").select("id, name, location:location_id(*), created_at, creator_id, sort_order",{count:"exact",head:!1}).eq("location_id",_).order(u.value.orderBy,{ascending:u.value.isAsc});P||(g=g.range(f.value,p.value));const{data:h,count:d,error:C}=await g;return C?i=C.message:h&&(l.value=h,n.value=d||0),t.value||(t.value=o.value),a.value=!1,i}async function V(_){if(a.value)return"Error:  Please try again";a.value=!0;let P="",i=null;_.id===0?i=se.from("department").insert([{created_at:new Date().toISOString(),creator_id:s.value.account_id,name:_.name,location_id:_.location_id,sort_order:_.sort_order}]).select():i=se.from("department").update([{name:_.name,location_id:_.location_id,sort_order:_.sort_order}]).eq("id",_.id).select();const{error:g}=await i;return g&&(P=g.message),a.value=!1,P}return{blankDepartment:o,departments:l,department:t,departments_cnt:n,params:u,isPending:r,addUpdateDepartment:V,fetchDepartments:m,$reset:b}}),Ke=+"1.2",mn=ze("employeeStore",()=>{const{txt:e}=X(we()),{active_emp:s,currentLocationId:a,isAdmin:l,profile:t}=X(be()),n=O(!1),r=O([]),u=O({}),o=O(0),f=S(()=>n.value),p=O({isAsc:!0,orderBy:"id",page:1,perPage:10,search:""}),b=S(()=>({id:0,fname:"",lname:"",full_name:"",wage:0,start:new Date,end:new Date,location:{},department:{},sort_order:1,shifts:[],code:"",role:{id:4,name:e.value.roles[4]}})),m=S(()=>(p.value.page-1)*p.value.perPage),V=S(()=>m.value+p.value.perPage-1);function _(){r.value=[],u.value={},o.value=0,n.value=!1,p.value={isAsc:!0,orderBy:"id",page:1,perPage:10,search:""}}async function P(d,C=!1){if(!l.value)return r.value=[s.value],o.value=1,"";if(n.value||!t.value)return"Error:  Please try again";n.value=!0;let A="",I=se.from("employee").select("id, fname, lname, wage, location:location_id(*), department:dept_id(*), code, profile:account_id(email, phone), role:role_id(*), start, end, sort_order",{count:"exact",head:!1}).eq("location_id",d).eq("active",!0);C?I=I.order("fname",{ascending:!0}).order("lname",{ascending:!0}):I=I.order(p.value.orderBy,{ascending:p.value.isAsc}).range(m.value,V.value);const{data:y,count:E,error:D}=await I;return D?A=D.message:y&&(r.value=y.map(B=>({...B,wage:+`0x${B.wage}`/100-+`0x${B.code.substring(1,5)}`*Ke,full_name:`${B.fname} ${B.lname}`})),o.value=E||0),u.value||(u.value=b.value),n.value=!1,A}async function i(d){if(n.value)return"Error:  Please try again";n.value=!0;let C="",A=null;d.id===0?A=se.from("employee").insert([{created_at:new Date().toISOString(),creator_id:t.value.account_id,fname:d.fname,lname:d.lname,wage:Math.floor((d.wage+ +`0x${d.code.substring(1,5)}`*Ke)*100).toString(16),location_id:a.value,code:d.code,role_id:d.code[0]==="L"?2:4,start:d.start,end:d.end,sort_order:d.sort_order,dept_id:d.department?d.department.id:null}]).select():A=se.from("employee").update([{fname:d.fname,lname:d.lname,wage:Math.floor((d.wage+ +`0x${d.code.substring(1,5)}`*Ke)*100).toString(16),location_id:d.location_id,role_id:d.role_id,start:d.start,end:d.end,sort_order:d.sort_order,dept_id:d.department?d.department.id:null}]).eq("id",d.id).select();const{data:I,error:y}=await A;return y?C=y.message:I&&(console.log(d),console.log(`add/update: ${d.wage} + ${+`0x${d.code.substring(1,3)}`} = ${d.wage+ +`0x${d.code.substring(1,3)}`}`)),n.value=!1,C}async function g(d){if(n.value)return"Error:  Please try again";n.value=!0;let C="";const{data:A,error:I}=await se.from("employee").update([{account_id:t.value.account_id}]).is("account_id",null).eq("code",d.toUpperCase()).select();return I?C=I.message:A&&(A[0]||(C="Invalid Link Code")),n.value=!1,C}function h(d=0){let C=Date.now().toString().substring(5),A="";for(;C.length>2;){let I=C.substring(0,4);C=C.substring(4),A+=Number(I).toString(16)}return C.length>0&&(A+=Number(C).toString(16)),d>0?A+=d.toString(16):A="L"+A,console.log("code:",A),A.toUpperCase()}return{blankEmployee:b,employees:r,employee:u,employees_cnt:o,params:p,isPending:f,addUpdateEmployee:i,createCode:h,fetchEmployees:P,redeemEmployeeCode:g,$reset:_}}),gn=ze("locationStore",()=>{const{active_emp:e,currentLocationId:s,isAdmin:a,profile:l}=X(be()),t=O(!1),n=O([]),r=O({}),u=O(0),o=S(()=>t.value),f=O({isAsc:!0,orderBy:"name",page:1,perPage:10,search:""}),p=S(()=>(f.value.page-1)*f.value.perPage),b=S(()=>p.value+f.value.perPage-1);function m(){n.value=[],r.value={},u.value=0,t.value=!1,f.value={isAsc:!0,orderBy:"name",page:1,perPage:10,search:""}}async function V(){if(!a.value)return n.value=[e.value.location],u.value=1,"";if(t.value||!l.value)return"Error:  Please try again";t.value=!0;let g="",h=se.from("location").select("id, name, start, end, addr1, addr2, city, state, zip, code, owner_id, creator_id, active",{count:"exact",head:!1}).eq("active",!0);h=h.eq("owner_id",l.value.account_id),h=h.order(f.value.orderBy,{ascending:f.value.isAsc}).range(p.value,b.value);const{data:d,count:C,error:A}=await h;return A?(console.log(A),g=A.message):d&&(console.log(d),n.value=d,u.value=C||0),t.value=!1,g}async function _(g){if(t.value)return"Error:  Please try again";t.value=!0;let h="";const{error:d}=await se.from("location").update([{name:g.name,start:new Date(g.start).toISOString(),end:new Date(g.end).toISOString(),addr1:g.addr1,addr2:g.addr2,city:g.city,state:g.state,zip:g.zip,active:g.active}]).eq("id",g.id).select();return d&&(h=d.message),t.value=!1,h}async function P(g){if(t.value)return"Error:  Please try again";t.value=!0;let h="";const{data:d,error:C}=await se.from("location").select("*").is("owner_id",null).eq("code",g.toUpperCase());return C&&(h=C.message),t.value=!1,h}async function i(g,h){if(t.value)return"Error:  Please try again";t.value=!0;let d="";const{data:C,error:A}=await se.from("location").update({creator_id:l.value.account_id,owner_id:l.value.account_id,created_at:new Date().toISOString(),name:h.name,start:new Date(h.start).toISOString(),end:new Date(h.end).toISOString(),addr1:h.addr1,addr2:h.addr2,city:h.city,state:h.state,zip:h.zip}).is("owner_id",null).eq("code",g.toUpperCase()).select();return A?d=A.message:C&&(r.value=C[0],r.value?s.value=r.value.id:d="Invalid Link Code"),t.value=!1,d}return{locations:n,location:r,locations_cnt:u,isPending:o,checkLocationCode:P,fetchLocations:V,redeemLocationCode:i,updateLocation:_,$reset:m}}),hn={key:0,class:"w-100"},En=pe({__name:"main",async setup(e){let s,a;const{isMobile:l}=X(we()),{currentLocationId:t,profile:n}=X(be()),r=fn(),{fetchDepartments:u}=r,o=mn(),{fetchEmployees:f}=o,p=gn(),{fetchLocations:b}=p;return[s,a]=ct(()=>b()),await s,a(),f(t.value),u(t.value),(m,V)=>{const _=Zl,P=rn,i=vn;return J(),fe(ll,null,{default:$(()=>[c(_),L(n)&&L(n).id?(J(),Ce("div",hn,[c(P),c(al,{class:"w-100"},{default:$(()=>[c(rl,{class:$t(L(l)?"px-0":""),style:{"margin-bottom":"128px"},fluid:"","max-width":"1280"},{default:$(()=>[Ua(m.$slots,"default")]),_:3},8,["class"]),c(i)]),_:3})])):Ve("",!0)]),_:3})}}});export{En as default};
//# sourceMappingURL=BTGmjYvQ.js.map
